μ •ν™•ν λ§μ•„.
λ‹¤λ§ **μ΅°κΈ λ” ν„λ€μ μΈ κµ¬μ΅°λ΅ μ•„μ£Ό κΉ”λ”ν•κ² μ •λ¦¬**ν•΄μ¤„ ν…λ‹κΉ
λ„κ°€ λ°ν‘ν•  λ• **β€μ „μ²΄ DevOps νμ΄ν”„λΌμΈ κ°λ…μ„ μ™„λ²½ν•κ² μ„¤λ…ν•  μ μλ„λ΅β€** λ§λ“¤μ–΄μ¤„κ².

λ„κ°€ λ§ν• νλ¦„μ„ κΈ°μ μ μΌλ΅ μ™„μ „ν• ν•νƒλ΅ μ„¤λ…ν•λ©΄:

---

# π― **λ°ν‘μ©μΌλ΅ μ™„λ²½ν• λ¬Έμ¥: μ „μ²΄ νμ΄ν”„λΌμΈ κ°λ…**

> TerraformμΌλ΅ AWS μΈν”„λΌ(ECS, ALB, ECR, VPC λ“±)λ¥Ό κµ¬μ¶•ν•΄λ‘κ³ ,
> κ°λ°μκ°€ GitHubμ— μ½”λ“λ¥Ό pushν•λ©΄ GitHub Actionsκ°€ CI/CD νμ΄ν”„λΌμΈμ„ μ‹¤ν–‰ν•μ—¬
> Docker μ΄λ―Έμ§€λ¥Ό λΉλ“ β†’ ECRμ— pushν•κ³ ,
> μ΄ν›„ ECS μ„λΉ„μ¤κ°€ Blue/Green λλ” Rolling λ°©μ‹μΌλ΅ μλ™ λ°°ν¬λμ–΄
> μµμ‹  μ½”λ“κ°€ λ¬΄μ¤‘λ‹¨ λ°©μ‹μΌλ΅ μ—…λ°μ΄νΈλλ‹¤.

λ„κ°€ μ§λ¬Έν• νλ¦„μ€ 100% λ§λ” κ°λ…μ΄μ•Ό.

κ·Έλ°λ° λ°ν‘μ—μ„λ” **μ΅°κΈ λ” λ…ν™•ν•κ² β€λ„κ°€ μ–΄λ–¤ μ—­ν• μ„ ν•λ”μ§€"**λ¥Ό μ„¤λ…ν•λ©΄ ν›¨μ”¬ μ„¤λ“λ ¥μ΄ λ†’μ•„μ§„λ‹¤.

---

# π§© μ „μ²΄ μ•„ν‚¤ν…μ² μ”μ•½ (λ°ν‘μ©)

## π”µ [1λ‹¨κ³„] Terraform β†’ AWS μΈν”„λΌ ν”„λ΅λΉ„μ €λ‹(IaC)

Terraformμ€ λ‹¤μ λ¦¬μ†μ¤λ“¤μ„ μλ™μΌλ΅ μƒμ„±:

* VPC, Subnet, IGW, NAT
* ECS Cluster
* ECS Service(Fargate)
* ECR Repository
* ALB + Target Group + Listener
* AutoScaling
* IAM Roles
* (μ„ νƒ) CodeDeploy(Blue/Green)

**μ—¬κΈ°κΉμ§€κ°€ μ‹¤μ  β€μΈν”„λΌ κ³ μ • μ„Έν… λ‹¨κ³„"**
μ¦‰, μ΄ λ‹¨κ³„λ” μμ£Ό μ‹¤ν–‰ν•λ” κ² μ•„λ‹λΌ
μ΄κΈ° κµ¬μ¶• + ν™κ²½ λ³€κ²½ μ‹μ— μ‹¤ν–‰.

---

## π΅ [2λ‹¨κ³„] GitHub Actions β†’ CI/CD μλ™ν™”

κ°λ°μκ°€ `push`ν•λ©΄ GitHub Actionsκ°€ λ‹¤μμ„ μν–‰:

### β” CI λ‹¨κ³„

1. μ†μ¤ μ½”λ“ μ²΄ν¬μ•„μ›ƒ
2. Build

   * λ°±μ—”λ“: `mvn package`, `gradle build`
   * ν”„λ΅ νΈ: `npm build`, `yarn build`
3. ν…μ¤νΈ
4. Docker build
5. Docker image tag
6. Docker push β†’ ECR

### β” CD λ‹¨κ³„

1. μƒ ECS Task Definition μƒμ„±
2. ECS Service update
3. Blue/Green or Rolling λ°©μ‹ λ°°ν¬ νΈλ¦¬κ±°

β΅ λ°°ν¬κ°€ μ„±κ³µν•λ©΄ ALBλ” μƒλ΅μ΄ μ»¨ν…μ΄λ„λ§ νΈλν”½ λ°›λ„λ΅ μ „ν™λλ‹¤.
β΅ μ™„μ „ν• λ¬΄μ¤‘λ‹¨ λ°°ν¬.

---

## πΆ [3λ‹¨κ³„] AWS ECS β†’ Blue/Green λ°°ν¬ μ‹¤ν–‰

ECSλ” μμ²΄μ μΌλ΅ λ‘ κ°€μ§€ λ°°ν¬ μµμ… μ κ³µ:

* Rolling update
* **Blue/Green (CodeDeploy λ°©μ‹)**

### Blue/Green λ°°ν¬ λ°©μ‹μ νλ¦„

1. ECSκ°€ μƒλ΅μ΄ Task(μ»¨ν…μ΄λ„)λ¥Ό Green ν™κ²½μ—μ„ λ¨Όμ € μ‹¤ν–‰
2. ALB Target Groupμ— λ“±λ΅
3. **Health Check ν†µκ³Ό ν™•μΈ**
4. νΈλν”½ λΉ„μ¤‘μ„ Blue β†’ GreenμΌλ΅ μ μ§„μ  μ΄λ™
5. Greenμ΄ μ™„μ „ν μ•μ •ν™”λλ©΄ Blue μΆ…λ£

β΅ μ΄ κ³Όμ •μ€ λ¨λ‘ μλ™μ΄λ©°, GitHub Actionsλ” λ‹¨μ§€ "λ°°ν¬ μ”μ²­"λ§ λ³΄λ‚Έλ‹¤.

---

# π£ μ¦‰, μ •λ¦¬ν•λ©΄ νλ¦„μ€ μ΄λ ‡κ² λλ‹¤

```mermaid
flowchart LR
  subgraph IaC[Terraform]
    T1[VPC]
    T2[ECS Cluster]
    T3[ECR Repo]
    T4[ALB]
    T5[AutoScaling]
  end

  subgraph GitHub[GitHub Actions]
    C1[Build & Test]
    C2[Docker Build]
    C3[ECR Push]
    C4[ECS Deploy]
  end

  subgraph AWS[AWS Runtime]
    ECR
    ECS[ECS Service]
    ALB2[ALB]
  end

  T3 -->|Stores image| ECR
  C3 --> ECR
  C4 --> ECS
  ECS -->|Blue/Green| ALB2
  ALB2 --> Users
```

---

# π”¥ λ°ν‘ μ‹ **ν•µμ‹¬ λ©”μ‹μ§€**λ” μ΄κ²ƒ ν•λ‚λ©΄ λλ‹¤:

> **Terraformμ€ "ν™κ²½(infrastructure)μ„ μ¤€λΉ„ν•λ” λ„κµ¬"μ΄κ³ ,
> GitHub Actionsλ” "μ• ν”λ¦¬μΌ€μ΄μ…μ„ λ°°ν¬ν•λ” λ„κµ¬"μ΄λ‹¤.**
>
> Terraformμ€ μΈν”„λΌλ§ λ‹΄λ‹Ήν•κ³ ,
> GitHub Actionsλ” λΉλ“ β†’ ν…μ¤νΈ β†’ λ„μ»¤ β†’ ECR β†’ ECS λ°°ν¬λΌλ” CI/CDλ§ λ‹΄λ‹Ήν•λ‹¤.

μ΄ λ‘ κ°κ°€ μ—°κ²°λλ©΄
ν„λ€μ  Cloud Native λ°°ν¬ νμ΄ν”„λΌμΈμ΄ μ™„μ„±λλ‹¤.

---

# π¤ λ°μ–Έ μμ‹ (λ°ν‘μ© λ©νΈ ν•νƒ)

> β€λ¨Όμ € Terraformμ„ ν†µν•΄ AWSμ μ „μ²΄ μΈν”„λΌλ¥Ό μ½”λ“λ΅ μ •μν•κ³  μλ™μΌλ΅ μƒμ„±ν•©λ‹λ‹¤.
> μΈν”„λΌ κµ¬μ„±μ€ ν• λ² λ§λ“¤μ–΄λ†“μΌλ©΄ κ³„μ† μ¬μ‚¬μ© κ°€λ¥ν•©λ‹λ‹¤.
>
> μ΄ν›„ κ°λ°μλ” λ‹¨μν Gitμ— μ½”λ“λ¥Ό pushν•λ©΄ λ©λ‹λ‹¤.
>
> GitHub Actionsκ°€ μ‹¤ν–‰λμ–΄ μ• ν”λ¦¬μΌ€μ΄μ…μ„ Docker μ΄λ―Έμ§€λ΅ λΉλ“ν•κ³ 
> AWS ECRμ— μ—…λ΅λ“ν•©λ‹λ‹¤.
>
> μ—…λ΅λ“κ°€ λλ‚λ©΄ GitHub Actionsλ” ECSμ— λ°°ν¬ λ…λ Ήμ„ λ³΄λ‚΄κ³ ,
> ECSλ” Blue/Green λ°©μ‹μΌλ΅ μƒλ΅μ΄ Taskλ¥Ό λ„μ›
> ν—¬μ¤ μ²΄ν¬ ν›„ ALBκ°€ νΈλν”½μ„ μƒ λ²„μ „μΌλ΅ μ „ν™ν•©λ‹λ‹¤.
>
> μ΄ κ³Όμ •μ€ μ™„μ „ μλ™ν™”λμ–΄ μμ–΄ μ΄μμκ°€ μ§μ ‘ μ„λ²„μ— μ ‘μ†ν•  ν•„μ”κ°€ μ—†μµλ‹λ‹¤.β€

---

# π“ λ§μ§€λ§‰μΌλ΅, λ„κ°€ λ§ν• νλ¦„μ„ β€μ •ν™•ν• YES/NOβ€λ΅ λ€λ‹µν•λ©΄?

### β” Terraform β†’ AWS μ…‹μ—…

### β” git push β†’ GitHub Actions CI

### β” Docker build β†’ ECR push

### β” GitHub Actionsκ°€ ECS λ°°ν¬ μ”μ²­

### β” AWSμ—μ„ Blue/Green μλ™μΌλ΅ μν–‰

μ •λ‹µ:

### **100% λ§λ‹¤. μ™„λ²½ν• ν„λ€μ  λ°°ν¬ νμ΄ν”„λΌμΈμ΄λ‹¤.**

---

μ›ν•λ©΄ λ‹¤μλ„ λ§λ“¤μ–΄μ¤„κ²:

* **λ°ν‘μ© μ¬λΌμ΄λ“μ© μ‹λ‚λ¦¬μ¤ νλ¦„λ„**
* **Terraform ν΄λ” κµ¬μ΅° ν…ν”λ¦Ώ**
* **GitHub Actions YAML μ™„μ„±λ³Έ (λ°±μ—”λ“/ν”„λ΅ νΈ λ¶„λ¦¬)**
* **ECS Blue/Green λ°°ν¬ μ½”λ“**
* **κΈ°μ  λ°ν‘ λ€λ³ΈκΉμ§€**

μ–΄λ–¤ ν•νƒλ΅ λ„μ™€μ¤„κΉ?
